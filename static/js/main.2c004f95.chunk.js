(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{53:function(e,t,n){e.exports=n(74)},58:function(e,t,n){},60:function(e,t,n){},74:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(8),i=n.n(o),s=(n(58),n(32)),c=n.n(s),l=n(39),d=n(46),m=n(29),u=n(52),E=n(47),p=n(51),g=n(48),v=(n(60),{getAddress:function(){return new Promise(function(e){window.addEventListener("ICONEX_RELAY_RESPONSE",function t(n){var a=n.detail,r=a.type,o=a.payload;"RESPONSE_ADDRESS"===r&&e(o),window.removeEventListener("ICONEX_RELAY_RESPONSE",t)}),window.dispatchEvent(new CustomEvent("ICONEX_RELAY_REQUEST",{detail:{type:"REQUEST_ADDRESS"}}))})},sendTransaction:function(e){return new Promise(function(t){window.addEventListener("ICONEX_RELAY_RESPONSE",function e(n){var a=n.detail,r=a.type,o=a.payload;"RESPONSE_JSON-RPC"===r&&t(o.result),window.removeEventListener("ICONEX_RELAY_RESPONSE",e)}),window.dispatchEvent(new CustomEvent("ICONEX_RELAY_REQUEST",{detail:{type:"REQUEST_JSON-RPC",payload:e}}))})}}),w=n(17),f=n.n(w),h=new w.HttpProvider(window.PROVIDER_URL),S=new f.a(h),x=w.IconBuilder.CallBuilder,N=w.IconBuilder.CallTransactionBuilder,R=w.IconBuilder.IcxTransactionBuilder,O={iconService:S,callBuild:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.from,n=e.methodName,a=e.to,r=e.params,o=void 0===r?{}:r;return(new x).from(t).to(a).method(n).params(o).build()},sendTxBuild:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.from,n=e.to,a=e.methodName,r=e.params,o=void 0===r?{}:r,i=e.networkId,s=void 0===i?window.NID:i,c=e.stepLimit,l=void 0===c?"0x493e0":c,d=e.value,m=void 0===d?"0x0":d;return{jsonrpc:"2.0",method:"icx_sendTransaction",params:(new N).nid(s).from(t).to(n).stepLimit(l).value(m).timestamp("0x".concat((1e3*(new Date).getTime()).toString(16))).method(a).params(o).version("0x3").build(),id:1}},sendTxBuild2:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.from,n=e.to,a=e.networkId,r=void 0===a?window.NID:a,o=e.stepLimit,i=void 0===o?"0x493e0":o,s=e.value,c=void 0===s?"0x0":s;return{jsonrpc:"2.0",method:"icx_sendTransaction",params:(new R).nid(r).from(t).to(n).stepLimit(i).value(c).timestamp("0x".concat((1e3*(new Date).getTime()).toString(16))).version("0x3").build(),id:1}}},C=n(112),b=n(111),I=n(110),T=Object(b.a)(function(e){return{root:{background:function(e){return"red"===e.color?"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)":"linear-gradient(45deg, #2196F3 30%, #21CBF3 90%)"},border:0,borderRadius:3,boxShadow:function(e){return"red"===e.color?"0 3px 5px 2px rgba(255, 105, 135, .3)":"0 3px 5px 2px rgba(33, 203, 243, .3)"},color:"white",height:48,padding:"0 30px",margin:8},media:{height:140},container:{display:"flex",flexWrap:"wrap"}}});function _(e){e.color;var t=Object(g.a)(e,["color"]),n=T(e);return r.a.createElement(C.a,Object.assign({className:n.root},t))}function A(e){for(var t="",n=0;n<e.length;n+=2)t+=String.fromCharCode(parseInt(e.substr(n,2),16));return t}var y=function(e){function t(){var e,n;Object(d.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={login:!1,curmsg:"",myAddress:"",msg:"HI! FRIEND"},n.LoginF=function(){var e=Object(l.a)(c.a.mark(function e(t){var a,r,o;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.getAddress();case 2:return a=e.sent,n.setState({login:!0,myAddress:a}),e.next=6,O.iconService.call(O.callBuild({from:n.state.myAddress,methodName:"getMsgOfSendToNext",params:{},to:window.CONTRACT_ADDRESS})).execute();case 6:r=e.sent,o=void 0==(o=r)?n.state.msg:A(r),console.log(r,o),n.setState({msg:o});case 11:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.InputF=function(e){n.setState({curmsg:e.target.value})},n.SendF=Object(l.a)(c.a.mark(function e(){var t,a,r;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=O.sendTxBuild,a=t({from:n.state.myAddress,to:window.CONTRACT_ADDRESS,methodName:"sendToNext",params:{_sent:w.IconConverter.fromUtf8(n.state.curmsg)}}),console.log(w.IconConverter.fromUtf8(n.state.curmsg)),e.next=5,v.sendTransaction(a);case 5:(r=e.sent)&&alert("**"+n.state.curmsg+"** \uba54\uc138\uc9c0 \ub4f1\ub85d \uc644\ub8cc"),console.log(r);case 8:case"end":return e.stop()}},e)})),n}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("h1",null,r.a.createElement("a",{href:"/"})),this.state.login?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"warning"},r.a.createElement("p",null,r.a.createElement("strong",null,this.state.msg))),r.a.createElement("form",{className:T.container,noValidate:!0,autoComplete:"off"},r.a.createElement(I.a,{style:{width:250,color:"#ffffcc"},id:"outlined-name",label:"\uba54\uc138\uc9c0\ub97c \uc785\ub825\ud558\uc138\uc694",className:T.textField,value:this.state.curmsg,onChange:this.InputF,margin:"normal"})),r.a.createElement(_,{onClick:this.SendF,color:"blue",style:{height:62,marginTop:15,width:250}},"\uba54\uc138\uc9c0 \ub4f1\ub85d"),"}"):r.a.createElement(r.a.Fragment,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(_,{color:"blue",onClick:this.LoginF},"\ube14\ub85d\uccb4\uc778 \uc0ac\uc6a9\ud558\uc5ec \uba54\uc138\uc9c0 \uc804\ub2ec\ud558\uae30")))))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[53,1,2]]]);
//# sourceMappingURL=main.2c004f95.chunk.js.map